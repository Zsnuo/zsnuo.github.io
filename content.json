{"meta":{"title":"Zsnuo's Blog","subtitle":"Living is do or die.","description":null,"author":"Zsnuo","url":"http://yoursite.com"},"pages":[{"title":"About","date":"2018-05-20T12:53:14.000Z","updated":"2018-05-21T08:41:04.358Z","comments":false,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"高二，一只即将退役的OIer，坐标东南沿海某偏远山区学校。 现在已经跟妹子过上了幸福快乐的生活。 现博客搭建于2018年5月20日，初衷是想要有一个实用好看的区域可以给自己记录。 以及一只旧的Zsnuo，有一些东西应该还是会放在旧博客。 以上。"},{"title":"Links","date":"2018-05-20T12:53:14.000Z","updated":"2018-05-21T06:22:47.000Z","comments":false,"path":"links/index.html","permalink":"http://yoursite.com/links/index.html","excerpt":"","text":"「 onion_cyc 」 世界上最可爱的男孩子。 「 Sakits 」 TJM是机房的红太阳！ 「 Blue233333 」 林队队是机房的蓝月亮！ 「 Child-Single 」沉迷讲师的LJK。 「 Cholorop 」Duck Game高玩杜老师。 「 orzccz 」日常qwq的YY。 「 L_0_Forever_LF 」根本无法同台竞技的LCD。 「 cgh_Andy 」跟名字完全不符合的菜菜。 「 Ra1nbow 」跟栋栋给给的CYS。"},{"title":"Tags","date":"2018-05-20T12:50:26.000Z","updated":"2018-05-20T12:52:13.989Z","comments":false,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"「Codeforces 963E」NN country","slug":"cf983E","date":"2018-05-21T08:56:27.000Z","updated":"2018-05-21T11:27:36.243Z","comments":true,"path":"2018/05/21/cf983E/","link":"","permalink":"http://yoursite.com/2018/05/21/cf983E/","excerpt":"","text":"Description In the NN country, there are n cities, numbered from 1 to n, and n−1 roads, connecting them. There is a roads path between any two cities. There are m bidirectional bus routes between cities. Buses drive between two cities taking the shortest path with stops in every city they drive through. Travelling by bus, you can travel from any stop on the route to any other. You can travel between cities only by bus. You are interested in q questions: is it possible to get from one city to another and what is the minimum number of buses you need to use for it? Input The first line contains a single integer n (2≤n≤2⋅105) — the number of cities. The second line contains n−1 integers p2,p3,…,pn (1≤pi&lt;i), where pi means that cities pi and i are connected by road. The third line contains a single integer m (1≤m≤2⋅105) — the number of bus routes. Each of the next m m lines contains 2 integers a and b (1≤a,b≤n, a≠b), meaning that there is a bus route between cities a and b. It is possible that there is more than one route between two cities. The next line contains a single integer q (1≤q≤2⋅105) — the number of questions you are interested in. Output Print the answer for each question on a separate line. If there is no way to get from one city to another, print −1. Otherwise print the minimum number of buses you have to use. Solution 题意：给定一棵 nnn 个点的树， mmm 条链， qqq 个询问，每次询问 aaa 到 bbb 之间的路径最少可用几条给定链完全覆盖，无解输出 −1-1−1 。 分析： 对于每一条 aaa 与bbb 间的路径，都可拆分为 aaa 到 lcalcalca 的路径和 bbb 到 lcalcalca 的路径 采用贪心策略， low[x][i]low[x][i]low[x][i] 表示从 xxx 点出发向上选择不超过 2i2^i2i 条链可抵达的深度最浅的点。这时对于每一个询问可将询问的两个端点修改为利用贪心策略跳到的深度大于 lcalcalca 且深度最小的节点，并记录下答案，这个过程可以用倍增完成。注意特判端点即 lcalcalca 的情况。 然后出现两种情况。若修改后的两个端点出现在同一条给定链上，答案为原答案 +1+1+1 ，否则答案为原答案 +2+2+2 。问题模型转换为，每次询问一个点对是否出现在同一条给定链上。记录下 dfsdfsdfs 序，在深搜过程中利用树状数组统计即可。 时间复杂度 O(nlogn)O(nlogn)O(nlogn) 。 fY(y)=fX[h(y)]∣h′(y)∣=fX[h(y)]h′(y)=1θe−xθ[dxdy(−θln(1−y))]=1θe−−θln(1−y)θθ1−y=1θeln(1−y)θ1−y=1−yθθ1−y=1\\begin{aligned} f_Y(y) &amp; = f_X[h(y)]|h&#x27;(y)| \\\\ &amp; = f_X[h(y)]h&#x27;(y) \\\\ &amp; = \\frac{1}{\\theta}e^{-\\frac{x}{\\theta}}[\\frac{dx}{dy}(-\\frac{\\theta}{ln(1-y)})] \\\\ &amp; = \\frac{1}{\\theta}e^{-\\frac{-\\frac{\\theta}{ln(1-y)}}{\\theta}}\\frac{\\theta}{1-y} \\\\ &amp; = \\frac{1}{\\theta}e^{ln(1-y)}\\frac{\\theta}{1-y} \\\\ &amp; = \\frac{1-y}{\\theta}\\frac{\\theta}{1-y} \\\\ &amp; = 1 \\end{aligned} fY​(y)​=fX​[h(y)]∣h′(y)∣=fX​[h(y)]h′(y)=θ1​e−θx​[dydx​(−ln(1−y)θ​)]=θ1​e−θ−ln(1−y)θ​​1−yθ​=θ1​eln(1−y)1−yθ​=θ1−y​1−yθ​=1​ xix_i xi​ xix^i xi","categories":[],"tags":[{"name":"树状数组","slug":"树状数组","permalink":"http://yoursite.com/tags/树状数组/"}]},{"title":"test","slug":"test","date":"2018-05-20T04:48:27.000Z","updated":"2018-05-21T06:07:40.655Z","comments":true,"path":"2018/05/20/test/","link":"","permalink":"http://yoursite.com/2018/05/20/test/","excerpt":"hello sec-hello hello","text":"hello sec-hello hello a+ba+ba+b xix_ixi​ 12int a=read(),b=read(); printf(\"%d\\n\",a+b); 你好","categories":[],"tags":[{"name":"zsn","slug":"zsn","permalink":"http://yoursite.com/tags/zsn/"},{"name":"cyc","slug":"cyc","permalink":"http://yoursite.com/tags/cyc/"}]},{"title":"Hello World","slug":"hello-world","date":"2018-05-20T03:27:27.208Z","updated":"2018-05-20T03:27:27.208Z","comments":true,"path":"2018/05/20/hello-world/","link":"","permalink":"http://yoursite.com/2018/05/20/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new \"My New Post\" More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}